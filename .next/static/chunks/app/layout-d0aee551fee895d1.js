(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4600:(e,t,s)=>{Promise.resolve().then(s.bind(s,5451))},5207:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var l=s(5155);function a(e){let{children:t,title:s}=e;return(0,l.jsxs)("head",{children:[(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/images/elements/logo-relay.svg"}),(0,l.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,l.jsx)("script",{src:"https://kit.fontawesome.com/3dbf30e8e4.js",crossOrigin:"anonymous"}),(0,l.jsx)("title",{children:s}),t]})}},5451:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var l=s(5155);s(5786);var a=s(5207),r=s(2115),n=s(6874),i=s.n(n),c=s(5695),o=s(9402);function d(){let{logout:e}=(0,o.A)();return((0,c.useRouter)(),"/login"===(0,c.usePathname)())?null:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-between C-text-black h-full w-full",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center C-text-black w-full",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-center",children:"Relay R\xe9assort"}),(0,l.jsx)("div",{className:"C-bg-red h-[5px] w-full"})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center w-full mt-10 gap-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start w-full gap-10 navLink",children:[(0,l.jsx)("div",{className:"h-[3vh] w-[5px] ".concat("/stocks"===(0,c.usePathname)()?"C-bg-red":""," ")}),(0,l.jsx)(i(),{href:"/stocks",className:"font-bold text-xl",children:"Stocks"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-start w-full gap-10 navLink",children:[(0,l.jsx)("div",{className:"h-[3vh] w-[5px] ".concat("/listes"===(0,c.usePathname)()?"C-bg-red":""," ")}),(0,l.jsx)(i(),{href:"/listes",className:"font-bold text-xl",children:"Listes"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-start w-full gap-10 navLink",children:[(0,l.jsx)("div",{className:"h-[3vh] w-[5px] ".concat("/configuration"===(0,c.usePathname)()?"C-bg-red":""," ")}),(0,l.jsx)(i(),{href:"/configuration",className:"font-bold text-xl",children:"Configuration"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-start w-full gap-10 navLink",children:[(0,l.jsx)("div",{className:"h-[3vh] w-[5px] ".concat("/a-propos"===(0,c.usePathname)()?"C-bg-red":""," ")}),(0,l.jsx)(i(),{href:"/a-propos",className:"font-bold text-xl",children:"A propos"})]})]})]}),(0,l.jsx)("div",{className:"flex flex-col pb-5",children:(0,l.jsx)("p",{className:"font-bold text-center cursor-pointer",onClick:e,children:"D\xe9connexion"})})]})}var u=s(760),x=s(6129),h=s(1973),m=s(1811),f=s(6249);function v(e){let{children:t,title:s}=e,{user:a,logout:n}=(0,o.A)(),[i,c]=(0,r.useState)(!1),[v,j]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{a&&a.ID_store&&j((await (0,f.K)(a.ID_store)).Address)})()},[a]),(0,l.jsxs)("div",{className:"flex flex-col items-center C-bg-red w-full min-h-screen",children:[(0,l.jsxs)("div",{className:"flex items-end justify-between w-full h-[10vh] pb-[2vh] relative z-20 px-[5vw]",children:[(0,l.jsx)("button",{onClick:()=>c(!0),className:"cursor-pointer",children:(0,l.jsx)("img",{src:"/images/elements/Nav menu.svg",className:"w-auto h-[5vh]"})}),(0,l.jsx)("h1",{className:"C-text-white text-4xl font-extrabold",children:s}),(0,l.jsx)("div",{className:"w-[10vw]"})]}),(0,l.jsx)(u.N,{children:i&&(0,l.jsx)(h.Y,{isOpen:i,onClose:()=>c(!1),hideCloseButton:!0,backdrop:"opaque",children:(0,l.jsxs)(m.g,{as:x.P.div,className:"bg-white fixed rounded-r-[40px] top-0 left-0 w-[70%] h-full shadow-lg pt-[5vh] overflow-hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeOut"},children:[(0,l.jsx)(d,{}),(0,l.jsxs)("div",{className:" flex items-center justify-center gap-5 px-[5vw] C-bg-red h-[10vh]",children:[(0,l.jsx)("img",{src:"/images/elements/logo-relay.svg"}),(0,l.jsxs)("p",{className:"C-text-white font-bold text-2xl",children:["Relay ",v]})]})]})})}),(0,l.jsx)("div",{className:"flex flex-col w-full flex-1 C-bg-white rounded-t-[40px]",children:t})]})}function j(e){let{children:t,title:s}=e,{user:a,logout:n}=(0,o.A)(),[i,c]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{a&&a.ID_store&&c((await (0,f.K)(a.ID_store)).Address)})()},[a]),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center C-bg-red w-[100vw] h-[100vh] overflow-hidden",children:[(0,l.jsxs)("div",{className:"w-[100vw] h-[100vh] C-bg-red absolute z-0 top-0 left-0",children:[(0,l.jsx)("img",{src:"/images/elements/cercle.svg",className:"absolute top-[-5vh] left-0 z-[11] w-auto h-[40vh]"}),(0,l.jsx)("img",{src:"/images/elements/rond.svg",className:"absolute z-10 w-auto h-[80vh] right-[60vw] top-[-33vh]"}),(0,l.jsx)("img",{src:"/images/elements/barcode.svg",className:"absolute w-[30vw] rotate-90 h-auto z-10 right-[5vw] top-[-15vh]"})]}),(0,l.jsx)("div",{className:"flex items-end justify-between w-[100vw] h-[10vh] pb-[2vh] relative z-20 px-[5vw]",children:(0,l.jsx)("h1",{className:"C-text-white text-4xl font-extrabold",children:s})}),(0,l.jsxs)("div",{className:"flex items-start justify-center w-[100vw] h-[90vh]",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start justify-start w-[15vw] h-[100%] rounded-r-[40px] relative z-20",children:[(0,l.jsx)("div",{className:"flex flex-col items-center justify-center w-[100%] h-[90%] C-bg-white rounded-l-[40px] relative z-20 pt-[5vh]",children:(0,l.jsx)(d,{})}),(0,l.jsx)("div",{className:"C-bg-white h-[10%] w-[100%]",children:(0,l.jsxs)("div",{className:"flex items-center justify-center w-[100%] h-[100%] C-bg-red rounded-se-[40px] relative z-20 gap-6 overflow-hidden",children:[(0,l.jsx)("img",{src:"/images/elements/vague.svg",className:"absolute w-auto z-10 rotate-[100deg]"}),(0,l.jsx)("img",{src:"/images/elements/logo-relay.svg",className:"relative z-20"}),(0,l.jsxs)("p",{className:"C-text-white font-bold text-2xl relative z-20",children:["Relay ",i]})]})})]}),(0,l.jsx)("div",{className:"flex flex-col items-center justify-start w-[85vw] h-[100%] C-bg-white rounded-se-[40px] overflow-y-scroll overflow-x-hidden rounded-bl-[40px] relative z-20",children:t})]})]})}var w=s(6713),g=s(5734);function p(e){let{children:t}=e,s=(0,w.U)("(max-width: 768px)"),r=(0,c.usePathname)(),n="";switch(r){case"/":n="Accueil";break;case"/stocks":n="Stocks";break;case"/listes":n="Listes";break;case"/listes/create":n="Cr\xe9er une liste";break;case"/listes/".concat(r.split("/")[2]):n="Liste";break;case"/a-propos":n="\xc0 propos";break;case"/configuration":n="Configuration"}return r.startsWith("/login")?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsxs)("html",{lang:"fr",children:[(0,l.jsx)(a.A,{title:n}),(0,l.jsx)("body",{className:"C-bg-red C-text-black min-h-screen w-[100vw] overflow-x-hidden",children:(0,l.jsx)(g.M,{children:(0,l.jsx)(o.O,{children:s?(0,l.jsx)(v,{title:n,children:t}):(0,l.jsx)(j,{title:n,children:t})})})})]})}},5734:(e,t,s)=>{"use strict";s.d(t,{M:()=>j});var l=s(4885),a=s(1804),r=s(2989),n=s(2115);s(7650);let i=n.createContext(null);function c(e){let{children:t}=e,s=(0,n.useContext)(i),[l,a]=(0,n.useState)(0),r=(0,n.useMemo)(()=>({parent:s,modalCount:l,addModal(){a(e=>e+1),s&&s.addModal()},removeModal(){a(e=>e-1),s&&s.removeModal()}}),[s,l]);return n.createElement(i.Provider,{value:r},t)}function o(e){let t;let{modalProviderProps:s}={modalProviderProps:{"aria-hidden":!!(t=(0,n.useContext)(i))&&t.modalCount>0||void 0}};return n.createElement("div",{"data-overlay-container":!0,...e,...s})}function d(e){return n.createElement(c,null,n.createElement(o,e))}var u=s(4331),x=s(5155),h=s(1508),m=s(5500),f=s(2885);function v(e){let{children:t,isValidProp:s,...l}=e;s&&(0,m.D)(s),(l={...(0,n.useContext)(h.Q),...l}).isStatic=(0,f.M)(()=>l.isStatic);let a=(0,n.useMemo)(()=>l,[JSON.stringify(l.transition),l.transformPagePoint,l.reducedMotion]);return(0,x.jsx)(h.Q.Provider,{value:a,children:t})}var j=e=>{let{children:t,navigate:s,disableAnimation:i,useHref:c,disableRipple:o=!1,skipFramerMotionAnimations:h=i,reducedMotion:m="never",validationBehavior:f,locale:j="en-US",labelPlacement:w,defaultDates:g,createCalendar:p,spinnerVariant:N,...b}=e,y=t;s&&(y=(0,x.jsx)(r.pg,{navigate:s,useHref:c,children:y}));let C=(0,n.useMemo)(()=>(i&&h&&(u.W9.skipAnimations=!0),{createCalendar:p,defaultDates:g,disableAnimation:i,disableRipple:o,validationBehavior:f,labelPlacement:w,spinnerVariant:N}),[p,null==g?void 0:g.maxDate,null==g?void 0:g.minDate,i,o,f,w,N]);return(0,x.jsx)(l.n,{value:C,children:(0,x.jsx)(a.C,{locale:j,children:(0,x.jsx)(v,{reducedMotion:m,children:(0,x.jsx)(d,{...b,children:y})})})})}},5786:()=>{},6249:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});let{fetchData:l}=s(9360);async function a(e){try{let t=await l("/store/".concat(e),{method:"GET"});return await t}catch(e){return null}}},6713:(e,t,s)=>{"use strict";s.d(t,{U:()=>a});var l=s(2115);function a(e){let[t,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let t=window.matchMedia(e);s(t.matches);let l=e=>s(e.matches);return t.addEventListener("change",l),()=>t.removeEventListener("change",l)},[e]),t}},9142:(e,t,s)=>{"use strict";s.d(t,{O5:()=>i,QF:()=>o,c4:()=>c,iD:()=>n});var l=s(7383);let{fetchData:a}=s(9360),r="auth_token";async function n(e,t){try{let s=await a("/login",{method:"POST",body:JSON.stringify({Name:e,Password:t})});return i(s.token),await s}catch(e){return null}}function i(e){l.A.set(r,e,{expires:1,sameSite:"Strict"}),l.A.set("pendingProducts",[])}function c(){return l.A.get(r)}function o(){l.A.remove(r)}},9360:(e,t,s)=>{"use strict";s.r(t),s.d(t,{fetchData:()=>a});var l=s(9142);async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=(0,l.c4)(),a=await fetch("".concat("https://relay-api.mathis-mercier.mds-angers.yt/api").concat(e),{...t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:s?"Bearer ".concat(s):""},credentials:"include"});if(!a.ok)throw Error("Erreur HTTP! Statut: ".concat(a.status));return a.json()}catch(e){return null}}},9402:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,O:()=>c});var l=s(5155),a=s(2115),r=s(9142),n=s(5695);let i=(0,a.createContext)();function c(e){let{children:t}=e,[s,c]=(0,a.useState)(null),[o,d]=(0,a.useState)((0,r.c4)()),u=(0,n.useRouter)();(0,a.useEffect)(()=>{{let e=localStorage.getItem("user");e&&c(JSON.parse(e))}},[]),(0,a.useEffect)(()=>{o||u.push("/login")},[o]);let x=async(e,t)=>{let s=await (0,r.iD)(e,t);s&&s.token&&((0,r.O5)(s.token),c(s.user),d(s.token),localStorage.setItem("user",JSON.stringify(s.user)),u.push("/"))};return(0,l.jsx)(i.Provider,{value:{user:s,token:o,login:x,logout:()=>{(0,r.QF)(),c(null),d(null),localStorage.removeItem("user"),u.push("/login")}},children:t})}function o(){return(0,a.useContext)(i)}}},e=>{var t=t=>e(e.s=t);e.O(0,[523,806,562,94,663,441,684,358],()=>t(4600)),_N_E=e.O()}]);