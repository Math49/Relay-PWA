(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{403:(e,t,r)=>{Promise.resolve().then(r.bind(r,7715))},1508:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});let n=(0,r(2115).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},2885:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(2115);function i(e){let t=(0,n.useRef)(null);return null===t.current&&(t.current=e()),t.current}},4331:(e,t,r)=>{"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}function i(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}r.d(t,{W9:()=>a,vY:()=>d,Kq:()=>n,V1:()=>o,ph:()=>u,Xu:()=>m,lQ:()=>c,qB:()=>l,Ai:()=>i,fD:()=>h,fj:()=>f,$e:()=>s});let s=()=>{},o=()=>{},a={skipAnimations:!1,useManualTiming:!1};function u(e){let t;return()=>(void 0===t&&(t=e()),t)}let c=e=>e,l=(e,t,r)=>{let n=t-e;return 0===n?1:(r-e)/n};class d{constructor(){this.subscriptions=[]}add(e){return n(this.subscriptions,e),()=>i(this.subscriptions,e)}notify(e,t,r){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](e,t,r);else for(let i=0;i<n;i++){let n=this.subscriptions[i];n&&n(e,t,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let h=e=>1e3*e,m=e=>e/1e3;function f(e,t){return t?1e3/t*e:0}},5207:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5155);function i(e){let{children:t,title:r}=e;return(0,n.jsxs)("head",{children:[(0,n.jsx)("meta",{charSet:"utf-8"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/images/elements/logo-relay.svg"}),(0,n.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,n.jsx)("script",{src:"https://kit.fontawesome.com/3dbf30e8e4.js",crossOrigin:"anonymous"}),(0,n.jsx)("title",{children:r}),t]})}},5500:(e,t,r)=>{"use strict";r.d(t,{J:()=>a,D:()=>o});let n=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function i(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||n.has(e)}let s=e=>!i(e);function o(e){e&&(s=t=>t.startsWith("on")?!i(t):e(t))}try{o(require("@emotion/is-prop-valid").default)}catch{}function a(e,t,r){let n={};for(let o in e)("values"!==o||"object"!=typeof e.values)&&(s(o)||!0===r&&i(o)||!t&&!i(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},5734:(e,t,r)=>{"use strict";r.d(t,{M:()=>g});var n=r(4885),i=r(1804),s=r(2989),o=r(2115);r(7650);let a=o.createContext(null);function u(e){let{children:t}=e,r=(0,o.useContext)(a),[n,i]=(0,o.useState)(0),s=(0,o.useMemo)(()=>({parent:r,modalCount:n,addModal(){i(e=>e+1),r&&r.addModal()},removeModal(){i(e=>e-1),r&&r.removeModal()}}),[r,n]);return o.createElement(a.Provider,{value:s},t)}function c(e){let t;let{modalProviderProps:r}={modalProviderProps:{"aria-hidden":!!(t=(0,o.useContext)(a))&&t.modalCount>0||void 0}};return o.createElement("div",{"data-overlay-container":!0,...e,...r})}function l(e){return o.createElement(u,null,o.createElement(c,e))}var d=r(4331),h=r(5155),m=r(1508),f=r(5500),v=r(2885);function p(e){let{children:t,isValidProp:r,...n}=e;r&&(0,f.D)(r),(n={...(0,o.useContext)(m.Q),...n}).isStatic=(0,v.M)(()=>n.isStatic);let i=(0,o.useMemo)(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return(0,h.jsx)(m.Q.Provider,{value:i,children:t})}var g=e=>{let{children:t,navigate:r,disableAnimation:a,useHref:u,disableRipple:c=!1,skipFramerMotionAnimations:m=a,reducedMotion:f="never",validationBehavior:v,locale:g="en-US",labelPlacement:x,defaultDates:w,createCalendar:b,spinnerVariant:j,...C}=e,y=t;r&&(y=(0,h.jsx)(s.pg,{navigate:r,useHref:u,children:y}));let S=(0,o.useMemo)(()=>(a&&m&&(d.W9.skipAnimations=!0),{createCalendar:b,defaultDates:w,disableAnimation:a,disableRipple:c,validationBehavior:v,labelPlacement:x,spinnerVariant:j}),[b,null==w?void 0:w.maxDate,null==w?void 0:w.minDate,a,c,v,x,j]);return(0,h.jsx)(n.n,{value:S,children:(0,h.jsx)(i.C,{locale:g,children:(0,h.jsx)(p,{reducedMotion:f,children:(0,h.jsx)(l,{...C,children:y})})})})}},5786:()=>{},7383:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>i});var i=function e(t,r){function i(e,i,s){if("undefined"!=typeof document){"number"==typeof(s=n({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in s){if(s[a])o+="; "+a,!0!==s[a]&&(o+="="+s[a].split(";")[0])}return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var s=r[i].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(n[a]=t.read(o,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},7715:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(5155);function i(){return(0,n.jsxs)("div",{className:"w-[100vw] h-[100vh] C-bg-red absolute z-0 top-0 left-0",children:[(0,n.jsx)("img",{src:"/images/elements/rond.svg",className:"absolute z-10 right-[45vw] bottom-[70vh] md:bottom-[50vh]"}),(0,n.jsx)("img",{src:"/images/elements/barcode.svg",className:"absolute md:w-[30vw] w-[80vw] h-auto z-10 md:left-[90vw] left-[80vw] right-[10vw] md:top-[20vh] top-[30vh]"}),(0,n.jsx)("img",{src:"/images/elements/vague.svg",className:"absolute w-auto h-[40%] z-10 md:right-[85vw] right-[50vw] top-[70vh]"})]})}r(5786);var s=r(5207),o=r(9402),a=r(5734);function u(e){let{children:t}=e;return(0,n.jsxs)("html",{lang:"fr",children:[(0,n.jsx)(s.A,{title:"Relay - Login"}),(0,n.jsx)("body",{className:"C-bg-red C-text-black h-[100vh] w-[100vw] overflow-hidden",children:(0,n.jsx)(a.M,{children:(0,n.jsxs)(o.O,{children:[(0,n.jsx)(i,{}),(0,n.jsx)("main",{className:"relative z-50 top-0 left-0",children:t})]})})})]})}},9142:(e,t,r)=>{"use strict";r.d(t,{O5:()=>a,QF:()=>c,c4:()=>u,iD:()=>o});var n=r(7383);let{fetchData:i}=r(9360),s="auth_token";async function o(e,t){try{let r=await i("/login",{method:"POST",body:JSON.stringify({Name:e,Password:t})});return a(r.token),await r}catch(e){return null}}function a(e){n.A.set(s,e,{expires:1,sameSite:"Strict"}),n.A.set("pendingProducts",[])}function u(){return n.A.get(s)}function c(){n.A.remove(s)}},9360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fetchData:()=>i});var n=r(9142);async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=(0,n.c4)(),i=await fetch("".concat("https://relay-api.mathis-mercier.mds-angers.yt/api").concat(e),{...t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:r?"Bearer ".concat(r):""},credentials:"include"});if(!i.ok)throw Error("Erreur HTTP! Statut: ".concat(i.status));return i.json()}catch(e){return null}}},9402:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,O:()=>u});var n=r(5155),i=r(2115),s=r(9142),o=r(5695);let a=(0,i.createContext)();function u(e){let{children:t}=e,[r,u]=(0,i.useState)(null),[c,l]=(0,i.useState)((0,s.c4)()),d=(0,o.useRouter)();(0,i.useEffect)(()=>{{let e=localStorage.getItem("user");e&&u(JSON.parse(e))}},[]),(0,i.useEffect)(()=>{c||d.push("/login")},[c]);let h=async(e,t)=>{let r=await (0,s.iD)(e,t);r&&r.token&&((0,s.O5)(r.token),u(r.user),l(r.token),localStorage.setItem("user",JSON.stringify(r.user)),d.push("/"))};return(0,n.jsx)(a.Provider,{value:{user:r,token:c,login:h,logout:()=>{(0,s.QF)(),u(null),l(null),localStorage.removeItem("user"),d.push("/login")}},children:t})}function c(){return(0,i.useContext)(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[523,94,441,684,358],()=>t(403)),_N_E=e.O()}]);