(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{403:(e,t,n)=>{Promise.resolve().then(n.bind(n,7715))},1508:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});let r=(0,n(2115).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},2885:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(2115);function i(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},4331:(e,t,n)=>{"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}function i(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}n.d(t,{W9:()=>a,vY:()=>d,Kq:()=>r,V1:()=>o,ph:()=>u,Xu:()=>m,lQ:()=>c,qB:()=>l,Ai:()=>i,fD:()=>h,fj:()=>f,$e:()=>s});let s=()=>{},o=()=>{},a={skipAnimations:!1,useManualTiming:!1};function u(e){let t;return()=>(void 0===t&&(t=e()),t)}let c=e=>e,l=(e,t,n)=>{let r=t-e;return 0===r?1:(n-e)/r};class d{constructor(){this.subscriptions=[]}add(e){return r(this.subscriptions,e),()=>i(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let h=e=>1e3*e,m=e=>e/1e3;function f(e,t){return t?1e3/t*e:0}},5207:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5155);function i(e){let{children:t,title:n}=e;return(0,r.jsxs)("head",{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/images/elements/logo-relay.svg"}),(0,r.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,r.jsx)("script",{src:"https://kit.fontawesome.com/3dbf30e8e4.js",crossOrigin:"anonymous"}),(0,r.jsx)("title",{children:n}),t]})}},5500:(e,t,n)=>{"use strict";n.d(t,{J:()=>a,D:()=>o});let r=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function i(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||r.has(e)}let s=e=>!i(e);function o(e){e&&(s=t=>t.startsWith("on")?!i(t):e(t))}try{o(require("@emotion/is-prop-valid").default)}catch{}function a(e,t,n){let r={};for(let o in e)("values"!==o||"object"!=typeof e.values)&&(s(o)||!0===n&&i(o)||!t&&!i(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}},5695:(e,t,n)=>{"use strict";var r=n(8999);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},5734:(e,t,n)=>{"use strict";n.d(t,{M:()=>g});var r=n(4885),i=n(1804),s=n(2989),o=n(2115);n(7650);let a=o.createContext(null);function u(e){let{children:t}=e,n=(0,o.useContext)(a),[r,i]=(0,o.useState)(0),s=(0,o.useMemo)(()=>({parent:n,modalCount:r,addModal(){i(e=>e+1),n&&n.addModal()},removeModal(){i(e=>e-1),n&&n.removeModal()}}),[n,r]);return o.createElement(a.Provider,{value:s},t)}function c(e){let t;let{modalProviderProps:n}={modalProviderProps:{"aria-hidden":!!(t=(0,o.useContext)(a))&&t.modalCount>0||void 0}};return o.createElement("div",{"data-overlay-container":!0,...e,...n})}function l(e){return o.createElement(u,null,o.createElement(c,e))}var d=n(4331),h=n(5155),m=n(1508),f=n(5500),v=n(2885);function p(e){let{children:t,isValidProp:n,...r}=e;n&&(0,f.D)(n),(r={...(0,o.useContext)(m.Q),...r}).isStatic=(0,v.M)(()=>r.isStatic);let i=(0,o.useMemo)(()=>r,[JSON.stringify(r.transition),r.transformPagePoint,r.reducedMotion]);return(0,h.jsx)(m.Q.Provider,{value:i,children:t})}var g=e=>{let{children:t,navigate:n,disableAnimation:a,useHref:u,disableRipple:c=!1,skipFramerMotionAnimations:m=a,reducedMotion:f="never",validationBehavior:v,locale:g="en-US",labelPlacement:x,defaultDates:w,createCalendar:b,spinnerVariant:j,...C}=e,y=t;n&&(y=(0,h.jsx)(s.pg,{navigate:n,useHref:u,children:y}));let S=(0,o.useMemo)(()=>(a&&m&&(d.W9.skipAnimations=!0),{createCalendar:b,defaultDates:w,disableAnimation:a,disableRipple:c,validationBehavior:v,labelPlacement:x,spinnerVariant:j}),[b,null==w?void 0:w.maxDate,null==w?void 0:w.minDate,a,c,v,x,j]);return(0,h.jsx)(r.n,{value:S,children:(0,h.jsx)(i.C,{locale:g,children:(0,h.jsx)(p,{reducedMotion:f,children:(0,h.jsx)(l,{...C,children:y})})})})}},5786:()=>{},7383:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{A:()=>i});var i=function e(t,n){function i(e,i,s){if("undefined"!=typeof document){"number"==typeof(s=r({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in s){if(s[a])o+="; "+a,!0!==s[a]&&(o+="="+s[a].split(";")[0])}return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var s=n[i].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(r[a]=t.read(o,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){i(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},7715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(5155);function i(){return(0,r.jsxs)("div",{className:"w-[100vw] h-[100vh] C-bg-red absolute z-0 top-0 left-0",children:[(0,r.jsx)("img",{src:"/images/elements/rond.svg",className:"absolute z-10 right-[45vw] bottom-[70vh] md:bottom-[50vh]"}),(0,r.jsx)("img",{src:"/images/elements/barcode.svg",className:"absolute md:w-[30vw] w-[80vw] h-auto z-10 md:left-[90vw] left-[80vw] right-[10vw] md:top-[20vh] top-[30vh]"}),(0,r.jsx)("img",{src:"/images/elements/vague.svg",className:"absolute w-auto h-[40%] z-10 md:right-[85vw] right-[50vw] top-[70vh]"})]})}n(5786);var s=n(5207),o=n(9402),a=n(5734);function u(e){let{children:t}=e;return(0,r.jsxs)("html",{lang:"fr",children:[(0,r.jsx)(s.A,{title:"Relay - Login"}),(0,r.jsx)("body",{className:"C-bg-red C-text-black h-[100vh] w-[100vw] overflow-hidden",children:(0,r.jsx)(a.M,{children:(0,r.jsxs)(o.O,{children:[(0,r.jsx)(i,{}),(0,r.jsx)("main",{className:"relative z-50 top-0 left-0",children:t})]})})})]})}},9142:(e,t,n)=>{"use strict";n.d(t,{O5:()=>a,QF:()=>c,c4:()=>u,iD:()=>o});var r=n(7383);let{fetchData:i}=n(9360),s="auth_token";async function o(e,t){try{let n=await i("/login",{method:"POST",body:JSON.stringify({Name:e,Password:t})});return a(n.token),await n}catch(e){return null}}function a(e){r.A.set(s,e,{expires:1,sameSite:"Strict"}),r.A.set("pendingProducts",[])}function u(){return r.A.get(s)}function c(){r.A.remove(s)}},9360:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fetchData:()=>i});var r=n(9142);async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=(0,r.c4)(),i=await fetch("".concat("http://127.0.0.1:8000/api").concat(e),{...t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:n?"Bearer ".concat(n):""},credentials:"include"});if(!i.ok)throw Error("Erreur HTTP! Statut: ".concat(i.status));return i.json()}catch(e){return null}}},9402:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,O:()=>u});var r=n(5155),i=n(2115),s=n(9142),o=n(5695);let a=(0,i.createContext)();function u(e){let{children:t}=e,[n,u]=(0,i.useState)(null),[c,l]=(0,i.useState)((0,s.c4)()),d=(0,o.useRouter)();(0,i.useEffect)(()=>{{let e=localStorage.getItem("user");e&&u(JSON.parse(e))}},[]),(0,i.useEffect)(()=>{c||d.push("/login")},[c]);let h=async(e,t)=>{let n=await (0,s.iD)(e,t);n&&n.token&&((0,s.O5)(n.token),u(n.user),l(n.token),localStorage.setItem("user",JSON.stringify(n.user)),d.push("/"))};return(0,r.jsx)(a.Provider,{value:{user:n,token:c,login:h,logout:()=>{(0,s.QF)(),u(null),l(null),localStorage.removeItem("user"),d.push("/login")}},children:t})}function c(){return(0,i.useContext)(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[523,94,441,684,358],()=>t(403)),_N_E=e.O()}]);