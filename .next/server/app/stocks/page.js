(()=>{var e={};e.id=328,e.ids=[328],e.modules={488:(e,t,s)=>{Promise.resolve().then(s.bind(s,5054))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1172:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(687);function r(){return(0,a.jsx)("div",{className:"h-[1px] w-[100%] C-bg-red-var2"})}},1875:(e,t,s)=>{"use strict";s.d(t,{W:()=>l,d:()=>r});let{fetchData:a}=s(2744);async function r(){try{let e=await a("/products",{method:"GET"});return await e}catch(e){return null}}async function l(e){try{let t=await a("/product",{method:"POST",body:JSON.stringify(e)});return await t}catch(e){return null}}},2610:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});let{fetchData:a}=s(2744);async function r(e){try{let t=await a(`/categoryEnable/${e}`,{method:"GET"});return await t}catch(e){return null}}},2993:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(687),r=s(5107),l=s(3210),i=s(3270);s(2610);var n=s(5216),c=s(1172),d=s(4343);function o({stocks:e,isEditing:t,setStocks:s}){let r=(e,t,a)=>{s(s=>s.map(s=>s.ID_stock===e?{...s,[t]:parseInt(a)||0}:s))};return e&&0!==e.length?(0,a.jsxs)("div",{className:"w-full flex flex-col items-center mt-2",children:[(0,a.jsxs)("div",{className:"w-[70%] text-black font-bold text-sm flex justify-end gap-[30px] mb-2 px-3",children:[(0,a.jsx)("span",{className:"col-span-2",children:"Produit"}),(0,a.jsx)("span",{className:"text-center",children:"Par bo\xeete"}),(0,a.jsx)("span",{className:"text-center",children:"En rayon"}),(0,a.jsx)("span",{className:"text-center",children:"Bo\xeetes"}),(0,a.jsx)("span",{className:"text-center",children:"Quantit\xe9"}),(0,a.jsx)("span",{className:"text-center",children:"En vrac ?"})]}),(0,a.jsx)("div",{className:"w-[90%] flex flex-col items-center gap-2",children:e.map(e=>(0,a.jsx)("div",{className:"bg-white w-[90%] rounded-[10px] border-[2px] C-border-red mb-2 overflow-hidden transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex h-[5vh]",children:[(0,a.jsx)("div",{className:"flex items-center justify-center h-full gap-3 border-r-black border-r-[1px] w-[10%]",children:(0,a.jsx)("img",{src:e.product.Image||"/images/elements/default-product.jpg",alt:e.product?.Label,className:"w-auto h-full rounded-[5px] object-cover"})}),(0,a.jsxs)("div",{className:"flex justify-between items-center w-[85%] h-full py-3 px-2 pr-4",children:[(0,a.jsxs)("div",{className:"w-[30%]",children:[(0,a.jsx)("p",{className:"C-text-black font-semibold text-xl",children:e.product?.Label}),(0,a.jsx)("p",{className:"C-text-black font-normal text-sm",children:e.product?.Barcode})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-lg justify-between w-[70%]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-boxes-stacked C-text-red text-2xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold ",children:e.product.Box_quantity})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-cash-register text-2xl C-text-red","aria-hidden":"true"}),0===e.product.Packing?t?(0,a.jsx)("input",{type:"number",value:e.Nmb_on_shelves,onChange:t=>r(e.ID_stock,"Nmb_on_shelves",t.target.value),className:"w-[50px] text-center border border-gray-300 rounded C-text-black font-bold"}):(0,a.jsx)("span",{className:"C-text-black font-bold",children:e.Nmb_on_shelves}):(0,a.jsx)("span",{className:"text-gray-400",children:"-"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-box text-2xl C-text-red","aria-hidden":"true"}),t?(0,a.jsx)("input",{type:"number",value:e.Nmb_boxes,onChange:t=>r(e.ID_stock,"Nmb_boxes",t.target.value),className:"w-[50px] text-center border border-gray-300 rounded C-text-black font-bold"}):(0,a.jsxs)("span",{className:"C-text-black font-bold",children:[e.Nmb_boxes,0===e.product.Packing&&e.Nmb_boxes*e.product.Box_quantity!==e.Quantity&&(0,a.jsx)("span",{className:"ml-1",children:"(1)"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-dolly C-text-red text-2xl","aria-hidden":"true"}),t?(0,a.jsx)("input",{type:"number",value:e.Quantity,onChange:t=>r(e.ID_stock,"Quantity",t.target.value),className:"w-[50px] text-center border border-gray-300 rounded C-text-black font-bold"}):(0,a.jsx)("p",{className:"C-text-black font-bold",children:e.Quantity})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-box-open text-2xl C-text-red","aria-hidden":"true"}),(0,a.jsx)("input",{type:"checkbox",className:"w-5 h-5",disabled:!0,checked:1===e.product.Packing})]})]})]})]})},e.ID_stock))})]}):(0,a.jsx)("p",{className:"text-white text-center",children:"Aucun produit trouv\xe9."})}function x({stocks:e,isEditing:t,setStocks:s}){let[r,i]=(0,l.useState)(null),n=e=>i(t=>t===e?null:e),c=(e,t,a)=>{s(s=>s.map(s=>s.ID_stock===e?{...s,[t]:parseInt(a)}:s))};return e&&0!==e.length?(0,a.jsx)("div",{className:"w-full flex flex-col items-center mt-2",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white w-[90%] rounded-[10px] border-[2px] C-border-red mb-2 overflow-hidden transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex cursor-pointer h-[5vh]",onClick:()=>n(e.ID_stock),children:[(0,a.jsx)("div",{className:"flex items-center justify-center h-full gap-3 border-r-black border-r-[1px] w-[15%]",children:(0,a.jsx)("img",{src:e.product.Image||"/images/elements/default-product.jpg",alt:e.product?.Label,className:"w-auto h-full rounded-[5px] object-cover"})}),(0,a.jsxs)("div",{className:"flex justify-between items-center w-[85%] h-full py-3 px-2 pr-4",children:[(0,a.jsxs)("div",{className:"w-[60%]",children:[(0,a.jsx)("p",{className:"C-text-black font-semibold text-xl",children:e.product?.Label}),(0,a.jsx)("p",{className:"C-text-black font-normal text-sm",children:e.product?.Barcode})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-lg justify-between w-[40%]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-boxes-stacked C-text-red text-2xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold ",children:e.product.Box_quantity})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-dolly text-2xl C-text-red","aria-hidden":"true"}),t?(0,a.jsx)("input",{type:"number",value:e.Quantity,onChange:t=>c(e.ID_stock,"Quantity",t.target.value),className:"w-[50px] text-center border border-gray-300 rounded C-text-black font-bold"}):(0,a.jsx)("span",{className:"C-text-black font-bold",children:e.Quantity})]})]})]})]}),(0,a.jsx)("div",{className:`transition-all duration-300 ease-in-out overflow-hidden C-border-red-var2 border-t-[1px] ${r===e.ID_stock?"max-h-[200px] opacity-100":"max-h-0 opacity-0"}`,children:(0,a.jsxs)("div",{className:"flex justify-around items-center px-6 py-3 border-t C-border-light",children:[0===e.product.Packing&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-cash-register text-2xl C-text-red","aria-hidden":"true"}),t?(0,a.jsx)("input",{type:"number",value:e.Nmb_on_shelves,onChange:t=>c(e.ID_stock,"Nmb_on_shelves",t.target.value),className:"w-[50px] text-center border border-gray-300 rounded C-text-black font-bold"}):(0,a.jsx)("span",{className:"C-text-black font-bold",children:e.Nmb_on_shelves})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-box text-2xl C-text-red","aria-hidden":"true"}),t?(0,a.jsx)("input",{type:"number",value:e.Nmb_boxes,onChange:t=>c(e.ID_stock,"Nmb_boxes",t.target.value),className:"w-[50px] text-center border border-gray-300 rounded C-text-black font-bold"}):(0,a.jsxs)("span",{className:"C-text-black font-bold",children:[e.Nmb_boxes,0===e.product.Packing&&e.Nmb_boxes*e.product.Box_quantity!==e.Quantity&&(0,a.jsx)("span",{className:"ml-1",children:"(1)"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-box-open text-2xl C-text-red","aria-hidden":"true"}),(0,a.jsx)("input",{type:"checkbox",className:"w-5 h-5",disabled:!0,checked:1===e.product.Packing})]})]})})]},e.ID_stock))}):(0,a.jsx)("p",{className:"text-white text-center",children:"Aucun produit trouv\xe9."})}var u=s(8920),m=s(5249);function h({onAdd:e,onEdit:t,isEditing:s}){let[r,i]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-center gap-3",children:[(0,a.jsx)(u.N,{children:r&&(0,a.jsxs)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"flex flex-col items-center gap-3 mb-2",children:[(0,a.jsx)(m.P.button,{whileTap:{scale:.9},onClick:t,className:"w-12 h-12 rounded-full C-bg-red C-text-white flex items-center justify-center shadow-lg",children:(0,a.jsx)("i",{className:`fas ${s?"fa-check":"fa-pen"}`,"aria-hidden":"true"})}),(0,a.jsx)(m.P.button,{whileTap:{scale:.9},onClick:()=>{i(!1),e()},className:"w-12 h-12 rounded-full C-bg-red C-text-white flex items-center justify-center shadow-lg",children:(0,a.jsx)("i",{className:"fas fa-plus","aria-hidden":"true"})})]})}),(0,a.jsx)(m.P.button,{onClick:()=>i(e=>!e),whileTap:{scale:.9},animate:{rotate:135*!!r},transition:{type:"spring",stiffness:260,damping:20},className:"w-16 h-16 rounded-full C-bg-red C-text-white text-3xl flex items-center justify-center shadow-xl",children:(0,a.jsx)("i",{className:"fas fa-plus","aria-hidden":"true"})})]})}s(1875);var p=s(5659);function f({onClose:e,onSubmit:t,createProduct:s}){let r=(()=>{try{let e=p.A.get("pendingProducts");return e?JSON.parse(e):[]}catch{return[]}})(),[i,o]=(0,l.useState)(r),[x,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(""),[f,b]=(0,l.useState)([]),[j,N]=(0,l.useState)([]),[v,g]=(0,l.useState)(null),[y,w]=(0,l.useState)(0),{user:k}=(0,n.A)(),C=e=>{u(t=>t===e?null:e)},_=j.filter(e=>e.Label.toLowerCase().includes(m.toLowerCase())||e.Barcode.startsWith(m)),I=f.filter(e=>_.some(t=>t.ID_category===e.ID_category)),P=(0,d.U)("(max-width: 768px)");return(0,a.jsxs)("div",{className:"flex flex-col bg-white rounded-[40px] items-center justify-between py-5 max-h-[80vh] C-text-black h-full w-full",children:[(0,a.jsx)("div",{className:"h-[10%]",children:(0,a.jsx)("h2",{className:"text-center text-lg font-bold mb-2",children:"Ajout au stock"})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 w-full sm:w-[90%] px-5 h-full sm:h-[90%]",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 w-full h-[40%] sm:h-full",children:[(0,a.jsx)("div",{className:"w-full flex justify-center",children:v?(0,a.jsx)("div",{className:"bg-white w-[90%] rounded-[10px] border-[2px] C-border-red overflow-hidden transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex cursor-pointer h-[5vh]",children:[(0,a.jsx)("div",{className:"flex items-center justify-center h-full gap-3 border-r-black border-r-[1px] w-[15%]",children:(0,a.jsx)("img",{src:v.Image||"/images/elements/default-product.jpg",alt:v?.Label,className:"w-auto h-full rounded-[10px] object-cover"})}),(0,a.jsxs)("div",{className:"flex justify-between items-center w-[85%] h-full py-3 px-2 pr-4",children:[(0,a.jsxs)("div",{className:"w-[60%]",children:[(0,a.jsx)("p",{className:"C-text-black font-semibold text-xl",children:v?.Label}),(0,a.jsx)("p",{className:"C-text-black font-normal text-sm",children:v?.Barcode})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-lg justify-between w-[40%]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-boxes-stacked C-text-red text-2xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold ",children:v.Box_quantity})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-box text-2xl C-text-red","aria-hidden":"true"}),(0,a.jsx)("input",{type:"checkbox",className:"w-5 h-5",disabled:!0,checked:1===v.Packing})]})]})]})]})},v.ID_product):(0,a.jsx)("div",{className:"bg-white w-[90%] h-[5vh] rounded-[10px] border-[2px] C-border-red overflow-hidden transition-all duration-300"})}),(0,a.jsxs)("div",{className:"w-full h-full overflow-y-scroll",children:[(0,a.jsxs)("div",{className:"mb-4 relative flex justify-end w-full",children:[(0,a.jsx)("input",{type:"text",placeholder:"Rechercher",value:m,onChange:e=>h(e.target.value),className:"w-[40%] px-4 py-2 border rounded-full text-black text-sm shadow-md"}),(0,a.jsx)("i",{className:"fas fa-search absolute right-4 top-3 C-text-red"})]}),I.map(e=>{let t=_.filter(t=>t.ID_category===e.ID_category);return(0,a.jsxs)("div",{className:"mb-4 rounded overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>C(e.ID_category),className:"w-full text-left px-4 py-3 C-bg-white cursor-pointer C-text-red C-border-red border-b-[2px] text-white font-bold flex justify-between items-center",children:[(0,a.jsx)("span",{children:e.category.Label}),(0,a.jsx)("i",{className:`fas transition-transform ${x===e.ID_category?"fa-chevron-up":"fa-chevron-down"}`})]}),(0,a.jsx)("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${x===e.ID_category?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:(0,a.jsx)("div",{className:"p-4 bg-white text-black w-full gap-2 flex flex-col items-center",children:t.map(e=>(0,a.jsx)("div",{className:"bg-white w-[90%] rounded-[10px] border-[2px] C-border-red overflow-hidden transition-all duration-300",onClick:()=>g(e),children:(0,a.jsxs)("div",{className:"flex cursor-pointer h-[6vh]",children:[(0,a.jsx)("div",{className:"flex items-center justify-center h-full gap-3 border-r-black border-r-[1px] w-[15%]",children:(0,a.jsx)("img",{src:e.Image||"/images/elements/default-product.jpg",alt:e?.Label,className:"w-auto h-full rounded-[10px] object-cover"})}),(0,a.jsxs)("div",{className:"flex justify-between items-center w-[85%] h-full py-3 px-2 pr-4",children:[(0,a.jsxs)("div",{className:"w-[60%]",children:[(0,a.jsx)("p",{className:"C-text-black font-semibold text-xl",children:e?.Label}),(0,a.jsx)("p",{className:"C-text-black font-normal text-sm",children:e?.Barcode})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-lg justify-between w-[40%]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-boxes-stacked C-text-red text-2xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold ",children:e.Box_quantity})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-box text-2xl C-text-red","aria-hidden":"true"}),(0,a.jsx)("input",{type:"checkbox",className:"w-5 h-5",disabled:!0,checked:1===e.Packing})]})]})]})]})},e.ID_product))})})]},e.ID_category)})]}),(0,a.jsx)("div",{className:"flex justify-center w-[90%] sm:w-full max-h-min",children:(0,a.jsx)(c.A,{})}),(0,a.jsxs)("div",{className:"flex items-center justify-around w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{children:"Nombre de boites"}),(0,a.jsx)("input",{type:"number",value:y,onChange:e=>w(e.target.value),className:"w-[50px] text-center border-[2px] C-border-red-var2 rounded C-text-black font-bold"})]}),(0,a.jsx)("button",{className:" C-text-white font-bold text-xl cursor-pointer C-bg-red rounded-full px-10 py-2",onClick:()=>{let e=[...i,{...v,Quantity:y}];o(e),p.A.set("pendingProducts",JSON.stringify(e)),g(null),w(0)},disabled:!v||y<=0,children:"Ajouter"})]})]}),P?(0,a.jsx)("div",{className:"flex justify-center w-[90%] sm:w-full max-h-min",children:(0,a.jsx)(c.A,{})}):(0,a.jsx)("div",{className:"flex justify-center h-[90%] sm:h-full",children:(0,a.jsx)("div",{className:"w-[1px] h-full C-bg-red-var2"})}),(0,a.jsx)("div",{className:" overflow-y-scroll w-full px-5 h-[40%] sm:w-full sm:h-full",children:(0,a.jsxs)("div",{className:"flex flex-col items-center w-full ",children:[i.map(e=>(0,a.jsx)("div",{className:"bg-white w-[90%] rounded-[10px] border-[2px] C-border-red mb-2 overflow-hidden transition-all duration-300 min-h-[5vh]",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-[8vh]",children:[(0,a.jsx)("div",{className:"flex items-center border-black sm:border-r-[1px] justify-center h-full gap-3 w-[15%]",children:(0,a.jsx)("img",{src:e.Image||"/images/elements/default-product.jpg",alt:e?.Label,className:"w-auto h-full rounded-[10px] object-cover"})}),(0,a.jsxs)("div",{className:"flex justify-between border-black border-l-[1px] sm:border-0 items-center w-[85%] h-full py-3 px-2 pr-4",children:[(0,a.jsxs)("div",{className:"w-[40%]",children:[(0,a.jsx)("p",{className:"C-text-black font-semibold text-xl",children:e?.Label}),(0,a.jsx)("p",{className:"C-text-black font-normal text-sm",children:e?.Barcode})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-lg justify-between w-[60%]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-boxes-stacked C-text-red text-2xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold ",children:e.Box_quantity})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-box text-2xl C-text-red","aria-hidden":"true"}),(0,a.jsx)("input",{type:"checkbox",className:"w-5 h-5",disabled:!0,checked:1===e.Packing})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fa-solid fa-dolly C-text-red text-2xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold ",children:e.Quantity})]})]})]})]})},e.ID_product)),i.length>0&&(0,a.jsx)("button",{className:"w-full mt-4 py-2 C-bg-red-var2 C-text-red font-bold rounded-full text-xl cursor-pointer",onClick:()=>{t(i),o([]),p.A.set("pendingProducts",[]),e()},children:"Termin\xe9"})]})})]})]})}var b=s(7746),j=s(5032);function N(){let[e,t]=(0,l.useState)([]),[s,p]=(0,l.useState)([]),[N,v]=(0,l.useState)([]),[g,y]=(0,l.useState)(null),[w,k]=(0,l.useState)(0),[C,_]=(0,l.useState)(0),[I,P]=(0,l.useState)(""),[D,A]=(0,l.useState)(!1),S=()=>A(!0),Q=()=>A(!1),E=(0,d.U)("(max-width: 768px)"),[q,B]=(0,l.useState)(!1),{user:L}=(0,n.A)(),R=["#FF6384","#36A2EB","#FFCE56","#4CAF50","#9C27B0"],T=async()=>{if(q)try{await (0,i.NI)(L.ID_store,e)}catch(e){console.error("Erreur lors de la mise \xe0 jour des stocks",e)}B(!q)};return(0,a.jsxs)("div",{className:"flex flex-col gap-[3vh] items-center justify-center relative z-10 text-white w-[100%] h-[100%] p-5",children:[(0,a.jsx)("div",{className:"w-[100%]",children:(0,a.jsx)(r.A,{path:"/"})}),(0,a.jsx)(h,{onAdd:()=>{S(!0)},onEdit:T,isEditing:q}),(0,a.jsx)("div",{className:"flex items-center justify-start gap-3 w-[100%] px-4 overflow-x-auto h-[10vh] min-h-min scrollbar-hide",children:N.map((e,t)=>(0,a.jsx)("button",{onClick:()=>y(e.ID_category),className:`p-4 text-xl rounded-[20px] border-b-[5px] cursor-pointer transition-all bg-white ${g===e.ID_category?"!border-red-500 text-red-500 ":"border-gray-300 C-text-black "}`,style:{borderColor:R[t%R.length]},children:e.category.Label},e.ID_category))}),(0,a.jsxs)("div",{className:"flex items-center justify-around sm:justify-end sm:gap-8 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start w-[60%] sm:w-auto gap-2",children:[(0,a.jsxs)("button",{onClick:()=>k(e=>1===e?-1:+(-1!==e)),className:"flex items-center gap-2 cursor-pointer text-black px-3 py-2",children:[1===w?(0,a.jsx)("i",{className:"fas fa-sort-up","aria-hidden":"true"}):-1===w?(0,a.jsx)("i",{className:"fas fa-sort-down","aria-hidden":"true"}):(0,a.jsx)("i",{className:"fas fa-sort","aria-hidden":"true"}),"Par nom"]}),(0,a.jsxs)("button",{onClick:()=>_(e=>1===e?-1:+(-1!==e)),className:"flex items-center gap-2 cursor-pointer text-black px-3 py-2",children:[1===C?(0,a.jsx)("i",{className:"fas fa-sort-up","aria-hidden":"true"}):-1===C?(0,a.jsx)("i",{className:"fas fa-sort-down","aria-hidden":"true"}):(0,a.jsx)("i",{className:"fas fa-sort","aria-hidden":"true"}),"Par quantit\xe9"]})]}),(0,a.jsxs)("div",{className:"relative w-[40%] sm:w-[20%] flex items-center ",children:[(0,a.jsx)("input",{type:"text",placeholder:"Recherche",value:I,onChange:e=>P(e.target.value),className:"px-4 py-2 C-border-red-var2 border-[1px] text-sm w-full rounded-full text-black shadow-md"}),(0,a.jsx)("i",{className:"fas fa-search absolute right-3 top-3 C-text-red","aria-hidden":"true"})]})]}),(0,a.jsx)(c.A,{}),(0,a.jsx)("div",{className:"w-full h-full flex flex-col items-center mt-2",children:0===s.length?(0,a.jsx)("p",{className:"text-white text-center",children:"Aucun produit trouv\xe9."}):E?(0,a.jsx)(x,{stocks:s,isEditing:q,setStocks:t}):(0,a.jsx)(o,{stocks:s,isEditing:q,setStocks:t})}),(0,a.jsx)(u.N,{children:D&&(0,a.jsx)(b.Y,{isOpen:D,onClose:Q,hideCloseButton:!0,backdrop:"opaque",classNames:{wrapper:"bg-black"},children:(0,a.jsxs)(j.g,{as:m.P.div,className:"bg-white fixed rounded-t-[40px] bottom-0 left-0 sm:right-0 sm:left-auto min-w-min h-[70vh] sm:h-[100vh] pt-[2vh]",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{duration:.3,ease:"easeOut"},children:[(0,a.jsx)("div",{className:"p-4 cursor-pointer absolute ",onClick:Q,children:(0,a.jsx)("i",{className:"fa-solid fa-arrow-left-long text-3xl C-text-black","aria-hidden":"true"})}),(0,a.jsx)(f,{products:e,onClose:Q,onSubmit:async e=>{let s=await (0,i.yb)(L.ID_store,e);s&&(t(s),Q())}})]})})})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3187:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var a=s(5239),r=s(8088),l=s(8170),i=s.n(l),n=s(893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d={children:["",{children:["stocks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5054)),"C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\stocks\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9769)),"C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\stocks\\page.jsx"],x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/stocks/page",pathname:"/stocks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3270:(e,t,s)=>{"use strict";s.d(t,{NI:()=>l,yW:()=>r,yb:()=>n});let{fetchData:a}=s(2744);async function r(e){try{let t=await a(`/stock/${e}`,{method:"GET"});return console.log("Stocks:",t),await t}catch(e){return null}}async function l(e,t){try{let s=await a(`/stocks/${e}`,{method:"PUT",body:JSON.stringify({stocks:t})});return await s}catch(e){return null}}async function i(e){try{let t=await a("/stocks",{method:"POST",body:JSON.stringify({stocks:e})});return await t}catch(e){return null}}async function n(e,t){try{let s=await r(e),a={};s.forEach(e=>{a[e.ID_product]=e});let n=[],c=[];return t.forEach(t=>{let s=parseInt(t.Quantity)*t.Box_quantity,r=a[t.ID_product];r?0===t.Packing?n.push({ID_product:t.ID_product,Quantity:r.Quantity+s,Nmb_boxes:r.Nmb_boxes+parseInt(t.Quantity),Nmb_on_shelves:r.Nmb_on_shelves}):n.push({ID_product:t.ID_product,Quantity:r.Quantity,Nmb_boxes:r.Nmb_boxes+parseInt(t.Quantity),Nmb_on_shelves:r.Nmb_on_shelves}):0===t.Packing?c.push({ID_product:t.ID_product,ID_store:e,Quantity:s,Nmb_boxes:parseInt(t.Quantity),Nmb_on_shelves:0}):c.push({ID_product:t.ID_product,ID_store:e,Quantity:0,Nmb_boxes:parseInt(t.Quantity),Nmb_on_shelves:0})}),n.length>0&&await l(e,n),c.length>0&&await i(c),await r(e)}catch(e){return console.error("Erreur lors de l'ajout au stock :",e),null}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4040:(e,t,s)=>{Promise.resolve().then(s.bind(s,2993))},5054:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\mthsm\\\\Documents\\\\Relay\\\\Relay-PWA\\\\src\\\\app\\\\stocks\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\stocks\\page.jsx","default")},5107:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(687),r=s(5814),l=s.n(r);function i({path:e}){return(0,a.jsx)("div",{children:(0,a.jsx)(l(),{href:e,className:"p-4",children:(0,a.jsx)("i",{className:"fa-solid fa-arrow-left-long text-3xl C-text-black","aria-hidden":"true"})})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[108,281],()=>s(3187));module.exports=a})();