(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1172:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(687);function r(){return(0,a.jsx)("div",{className:"h-[1px] w-[100%] C-bg-red-var2"})}},1901:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(5239),r=s(8088),l=s(8170),i=s.n(l),n=s(893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3226)),"C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9769)),"C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\page.jsx"],x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2168:(e,t,s)=>{Promise.resolve().then(s.bind(s,3226))},2610:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});let{fetchData:a}=s(2744);async function r(e){try{let t=await a(`/categoryEnable/${e}`,{method:"GET"});return await t}catch(e){return null}}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3226:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\mthsm\\\\Documents\\\\Relay\\\\Relay-PWA\\\\src\\\\app\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\mthsm\\Documents\\Relay\\Relay-PWA\\src\\app\\page.jsx","default")},3270:(e,t,s)=>{"use strict";s.d(t,{NI:()=>l,yW:()=>r,yb:()=>n});let{fetchData:a}=s(2744);async function r(e){try{let t=await a(`/stock/${e}`,{method:"GET"});return console.log("Stocks:",t),await t}catch(e){return null}}async function l(e,t){try{let s=await a(`/stocks/${e}`,{method:"PUT",body:JSON.stringify({stocks:t})});return await s}catch(e){return null}}async function i(e){try{let t=await a("/stocks",{method:"POST",body:JSON.stringify({stocks:e})});return await t}catch(e){return null}}async function n(e,t){try{let s=await r(e),a={};s.forEach(e=>{a[e.ID_product]=e});let n=[],o=[];return t.forEach(t=>{let s=parseInt(t.Quantity)*t.Box_quantity,r=a[t.ID_product];r?0===t.Packing?n.push({ID_product:t.ID_product,Quantity:r.Quantity+s,Nmb_boxes:r.Nmb_boxes+parseInt(t.Quantity),Nmb_on_shelves:r.Nmb_on_shelves}):n.push({ID_product:t.ID_product,Quantity:r.Quantity,Nmb_boxes:r.Nmb_boxes+parseInt(t.Quantity),Nmb_on_shelves:r.Nmb_on_shelves}):0===t.Packing?o.push({ID_product:t.ID_product,ID_store:e,Quantity:s,Nmb_boxes:parseInt(t.Quantity),Nmb_on_shelves:0}):o.push({ID_product:t.ID_product,ID_store:e,Quantity:0,Nmb_boxes:parseInt(t.Quantity),Nmb_on_shelves:0})}),n.length>0&&await l(e,n),o.length>0&&await i(o),await r(e)}catch(e){return console.error("Erreur lors de l'ajout au stock :",e),null}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5707:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(687);function r(){return(0,a.jsx)("div",{className:"w-[100vw] C-bg-white flex items-center justify-center my-[2vh]",children:(0,a.jsx)("div",{className:"w-[30px] h-[30px] C-bg-red rounded-full p-1.5",children:(0,a.jsx)("img",{src:"/images/elements/logo-relay.svg",className:"w-[100%] h-[100%]"})})})}},5811:(e,t,s)=>{Promise.resolve().then(s.bind(s,9499))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9499:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(687),r=s(1172),l=s(5216),i=s(5814),n=s.n(i),o=s(3210),d=s(4343);s(3270),s(2610);var c=s(5707),x=s(8920),u=s(5249);let{fetchData:h}=s(2744);function m({storeId:e}){let[t,s]=(0,o.useState)([]),[r,l]=(0,o.useState)(0);return(0,a.jsxs)("div",{className:"relative flex flex-col items-center w-[90vw] max-w-lg mx-auto p-4 C-bg-red rounded-[20px]",children:[(0,a.jsx)("div",{className:"absolute rounded-[30px] C-bg-red-var2 w-[85vw] h-[10vh] bottom-[-1vh] z-[-1]"}),(0,a.jsx)("div",{className:"text-white w-full rounded-3xl p-6 relative flex items-start",children:(0,a.jsx)(x.N,{mode:"wait",children:t.length>0&&(0,a.jsx)(u.P.p,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},className:"text-lg text-center text-wrap w-full break-words",children:t[r].Message},t[r].ID_message)})}),(0,a.jsx)("div",{className:"flex justify-center relative w-full h-[1px] mt-6 space-x-2",children:(0,a.jsx)("div",{className:"flex justify-center absolute bottom-[2vh] left-[5vw] mt-4 space-x-2",children:t.map((e,t)=>(0,a.jsx)("span",{className:`h-3 w-3 rounded-full border-white border-[2px] ${t===r?"bg-white":"C-bg-red"} transition-all duration-300`},t))})}),(0,a.jsx)("button",{className:"absolute right-[15vw] bottom-0 transform -translate-y-1/2 text-white text-3xl",onClick:()=>{l(e=>(e-1+t.length)%t.length)},children:(0,a.jsx)("i",{className:"fa-solid fa-chevron-left","aria-hidden":"true"})}),(0,a.jsx)("button",{className:"absolute right-[5vw] bottom-0 transform -translate-y-1/2 text-white text-3xl",onClick:()=>{l(e=>(e+1)%t.length)},children:(0,a.jsx)("i",{className:"fa-solid fa-chevron-right","aria-hidden":"true"})})]})}function p({storeId:e}){let[t,s]=(0,o.useState)([]),[r,l]=(0,o.useState)(0);return(0,a.jsxs)("div",{className:"relative w-[90%] flex justify-center items-center mt-5",children:[(0,a.jsx)("button",{onClick:()=>{l(e=>e-3<0?t.length-3:e-3)},className:"absolute left-0 z-10 C-bg-red text-white w-[40px] h-[40px] p-3 rounded-full flex justify-center items-center shadow-md transition",children:(0,a.jsx)("i",{className:"fa-solid fa-chevron-left text-2xl","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"overflow-hidden py-5 w-[80%]",children:(0,a.jsx)(x.N,{mode:"wait",children:(0,a.jsx)(u.P.div,{className:"flex gap-5",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.5},children:t.slice(r,r+3).map((e,t)=>(0,a.jsxs)("div",{className:"C-bg-red text-white flex flex-col items-center p-5 rounded-[20px] w-[30%] relative",children:[(0,a.jsx)("div",{className:"absolute rounded-[30px] C-bg-red-var2 w-[90%] h-[5vh] bottom-[-1vh] z-[-1]"}),(0,a.jsx)("p",{className:"text-lg",children:e.Message})]},t))},r)})}),(0,a.jsx)("button",{onClick:()=>{l(e=>(e+3)%t.length)},className:"absolute right-0 z-10 C-bg-red text-white w-[40px] h-[40px] p-3 rounded-full flex justify-center items-center shadow-md transition",children:(0,a.jsx)("i",{className:"fa-solid fa-chevron-right text-2xl","aria-hidden":"true"})})]})}function f(){let[e,t]=(0,o.useState)([]),[s,i]=(0,o.useState)([]),[x,u]=(0,o.useState)([]),{user:h}=(0,l.A)(),f=(0,d.U)("(max-width: 768px)"),v=["#FF6384","#36A2EB","#FFCE56","#4CAF50","#9C27B0"];return(0,a.jsxs)("div",{className:"flex flex-col gap-[5vh] items-center justify-center relative z-10 text-white w-[100%] p-5",children:[f?(0,a.jsx)(m,{storeId:h?.ID_store}):(0,a.jsx)(p,{storeId:h?.ID_store}),f?(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start w-[100%]",children:[(0,a.jsx)("h2",{className:"C-text-black font-bold text-2xl mb-6",children:"Navigation"}),(0,a.jsxs)("div",{className:"flex flex-col gap-5 items-start justify-start w-[100%]",children:[(0,a.jsxs)(n(),{href:"/stocks",className:"flex items-center justify-around w-[100%] h-[12vh] C-bg-red-var2 rounded-[20px] p-4 overflow-hidden relative",children:[(0,a.jsx)("i",{className:"fa-solid fa-boxes-stacked C-text-red-var1 text-5xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold text-2xl",children:"Stocks"}),(0,a.jsx)("div",{className:"flex items-end h-[100%] relative z-20",children:(0,a.jsx)("i",{className:"fa-solid fa-arrow-right-long C-text-black text-3xl","aria-hidden":"true"})}),(0,a.jsx)("img",{src:"/images/elements/cercle_var2.svg",className:"absolute right-0 bottom-0 z-10"})]}),(0,a.jsxs)(n(),{href:"/listes",className:"flex items-center justify-around w-[100%] h-[12vh] C-bg-red-var2 rounded-[20px] p-4 overflow-hidden relative",children:[(0,a.jsx)("i",{className:"fa-solid fa-clipboard-list C-text-red-var1 text-5xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold text-2xl",children:"Listes"}),(0,a.jsx)("div",{className:"flex items-end h-[100%] relative z-20",children:(0,a.jsx)("i",{className:"fa-solid fa-arrow-right-long C-text-black text-3xl","aria-hidden":"true"})}),(0,a.jsx)("img",{src:"/images/elements/vague_var2.svg",className:"absolute w-[15vw] right-0 top-0 z-10"})]}),(0,a.jsxs)(n(),{href:"/configuration",className:"flex items-center justify-around w-[100%] h-[12vh] C-bg-red-var2 rounded-[20px] p-4 overflow-hidden relative",children:[(0,a.jsx)("i",{className:"fa-solid fa-gears C-text-red-var1 text-5xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold text-2xl",children:"Configuration"}),(0,a.jsx)("div",{className:"flex items-end h-[100%] relative z-20",children:(0,a.jsx)("i",{className:"fa-solid fa-arrow-right-long C-text-black text-3xl","aria-hidden":"true"})}),(0,a.jsx)("img",{src:"/images/elements/barcode_var2.svg",className:"absolute w-[25vw] right-[20vw] bottom-0 z-10"})]}),(0,a.jsxs)(n(),{href:"/a-propos",className:"flex items-center justify-around w-[100%] h-[12vh] C-bg-red-var2 rounded-[20px] p-4 overflow-hidden relative",children:[(0,a.jsx)("i",{className:"fa-solid fa-store C-text-red-var1 text-5xl","aria-hidden":"true"}),(0,a.jsx)("p",{className:"C-text-black font-bold text-2xl",children:"A propos"}),(0,a.jsx)("div",{className:"flex items-end h-[100%] relative z-20",children:(0,a.jsx)("i",{className:"fa-solid fa-arrow-right-long C-text-black text-3xl","aria-hidden":"true"})}),(0,a.jsx)("img",{src:"/images/elements/rond_var2.svg",className:"absolute right-[50vw] top-0 z-10"})]})]})]}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(r.A,{}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start w-[100%]",children:[(0,a.jsx)("h2",{className:"C-text-black font-bold text-2xl mb-6",children:"Etat du stock"}),(0,a.jsxs)("div",{className:"w-[100%] h-[100%] flex flex-col items-center justify-center gap-5",children:[(0,a.jsx)("div",{className:"relative w-[100%] sm:w-[70%] h-[25px] bg-gray-300 rounded-full overflow-hidden",children:x.map((e,t)=>(0,a.jsx)("div",{className:"absolute top-0 h-full rounded-r-[20px]",style:{width:`${e.startPercentage}%`,backgroundColor:v[t%v.length],zIndex:x.length-t}},t))}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:x.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 rounded-[20px] shadow-md bg-white flex flex-col gap-5 items-center justify-center border-t-[5px] w-[45vw] sm:w-[20vw] h-[12vh]",style:{borderColor:v[t%v.length]},children:[(0,a.jsx)("p",{className:"text-xl font-bold C-text-black",children:e.categorie}),(0,a.jsxs)("p",{className:"text-2xl font-bold",style:{color:v[t%v.length]},children:[e.totalBoites," ",(0,a.jsx)("span",{className:"text-xl C-text-black",children:"boites"})]})]},t))})]})]}),(0,a.jsx)(c.A,{})]})}}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[108,281],()=>s(1901));module.exports=a})();